---
import { Button } from "$lib/components/ui/button";
import Sheet from "src/components/Sheet.svelte";
import { Menu } from "lucide-astro";

interface Props {
  currentPath: string;
  title: string;
  links: {
    href: string;
    title: string;
  }[];
}

const { currentPath, links, title } = Astro.props;
---

<nav
  class="flex items-center justify-between xl:justify-start mx-auto py-4 gap-5"
>
  <!-- {
    currentPath === "/" ? (
      <p class="flex gap-2">
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
      </p>
    ) : ( -->
  <!-- transition:name="astro-characters" -->
  <a href="/" class="flex gap-2">
    {
      /* <p class="font-bold text-primary">ASTRO-CHARACTERS</p>
    <p class="animate-bounce">ðŸš€</p>*/
    }
    <img
      src="https://astro.build/assets/press/astro-logo-light-gradient.png"
      alt=""
      class="h-10 w-auto"
    />
  </a>
  <!--  ) } -->
  <div class={`items-center justify-between hidden xl:flex w-full md:w-auto`}>
    <menu
      class="flex flex-col p-4 md:p-0 mt-4 font-medium md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0"
    >
      {
        links.map((link) => (
          <li>
            <Button
              variant={"link"}
              class="hover:underline underline-offset-8 text-foreground"
            >
              <a
                href={link.href}
                class={`block py-2 px-3 ${currentPath.includes(link.href) /* && title === link.title */ && "underline"}`}
              >
                {link.title}
              </a>
            </Button>
          </li>
        ))
      }
    </menu>
  </div>

  <div class="flex justify-center xl:hidden">
    <Sheet
      variant={undefined}
      size={undefined}
      ButtonClassName=""
      buttonTriggerId={"navbar"}
      client:load
      from="navbar"
    >
      <Menu slot="trigger" className="w-full" />
      <div
        slot="content"
        class={`items-center justify-between flex w-full  md:w-auto`}
      >
        <menu class="flex flex-col p-4 md:p-0 mt-4 md:mt-0 md:border-0">
          {
            links.map((link) => (
              <a
                href={link.href}
                class={`flex py-2 px-3 ${currentPath.includes(link.href) && title === link.title && "underline"}`}
              >
                <Button variant={"link"} class="text-foreground text-xl">
                  {link.title}
                </Button>
              </a>
            ))
          }
        </menu>
      </div>
    </Sheet>
  </div>
</nav>
