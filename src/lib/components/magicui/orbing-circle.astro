---
import { cn } from "$lib/utils";
import { Zap, Airplay, MoveDiagonal, Train } from "lucide-astro";
import { boolean } from "zod";

interface Props {
  duration: number;
  delay: number;
  radius: number;
  reverse: boolean;
  className: string;
}

const { duration, delay, className, radius, reverse } = Astro.props;
---

<>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    version="1.1"
    class="pointer-events-none absolute inset-0 h-full w-full"
  >
    <circle
      class="stroke-foreground/50 stroke-2"
      cx="50%"
      cy="50%"
      r={radius}
      fill="none"
      stroke-dasharray={"4 4"}></circle>
  </svg>

  <div
    class={cn(
      `[--duration:${duration}] [--radius:${radius}] animate-delay-[-${delay * 1000}ms]`,
      // `absolute flex h-full w-full transform-gpu animate-orbit items-center justify-center rounded-full border [animation-delay:calc(var(--delay)*-1000)]`,
      // `absolute flex h-full w-full transform-gpu animate-orbit items-center justify-center rounded-full border [animation-delay:calc(-${delay}*1000)]`,
      // `absolute flex h-full w-full transform-gpu animate-orbit items-center justify-center rounded-full border [animation-delay:${delay}ms]`,
      `absolute flex h-full w-full transform-gpu animate-orbit items-center justify-center rounded-full border`,
      className,
      { "[animation-direction:reverse]": reverse },
    )}
  >
    <slot name="icon" />
  </div>
</>
